<h2>{caption}</h2>

<form id="filter" class="container" action="javascript:MaintainChildren.filterShow()">

  <!-- last -->
  <div class="row">
    <div class="col">
      <span>{FamilyName}</span>
    </div>
    <div class="col">
      <input type="text" name="AFamilyName" value="">
    </div>
  </div>

  <!-- first -->
  <div class="row">
    <div class="col">
      <span>{FirstName}</span>
    </div>
    <div class="col">
      <input type="text" name="AFirstName" value="">
    </div>
  </div>

  <!-- status -->
  <div class="row">
    <div class="col">
      <span>{SponsorshipStatus}</span>
    </div>
    <div class="col">
      <select type="text" name="ASponsorshipStatus" value="">
        <option value="A1">A1</option>
        <option value="B2">B2</option>
        <option value="C3">C3</option>
      </select>
    </div>
  </div>

  <!-- admin -->
  <div class="row">
    <div class="col">
      <span>{SponsorAdmin}</span>
    </div>
    <div class="col">
      <select type="text" name="ASponsorAdmin" value="">
        <option value="A">A</option>
        <option value="B">B</option>
      </select>
    </div>
  </div>

  <!-- button -->
  <div class="row">
    <div class="col">
      <button type="submit" class="btn btn-primary">{forms.filter}</button>
    </div>
  </div>

</form>

<div id="result" class="container container-list">
  <!-- gets filled with copys of: [phantom] .children -->
</div>

<div phantom hidden>

  <div class="row children">
    <div class="col">
      <span type="text" name="p_partner_short_name_c"></span>
    </div>
    <div class="col">
      <data name="p_partner_key_n" value="-1"></data>
    </div>
    <div class="col">
      <span type="text" name="p_status_code_c"></span>
    </div>
    <div class="col-1">
      <button type="button" class="btn btn-primary" onclick="MaintainChildren.detail(this)"><i class="fas fa-wrench"></i></button>
    </div>
  </div>

</div>

<div class="modal modal-wide fade" tabindex="-1" role="dialog" id="detail_modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3>{edittitle}</h3>
      </div>
      <div class="modal-body">

        <div class="container">

          <div class="row">
            <div class="col">
              <span>{partner_key}</span>
            </div>
            <div class="col">
              <input type="text" name="p_partner_key_n" value="" readonly/>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <span>{partner_status}</span>
            </div>
            <div class="col">
              <select name="ASponsorshipStatus">
                <option value="A1">A1</option>
                <option value="A3">A3</option>
                <option value="TODO">TODO DETAULT</option>
                <option value="A5">A5</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <span>{partner_firstname}</span>
            </div>
            <div class="col">
              <input type="text" name="p_first_name_c"/>
            </div>
            <div class="col">
              <span>{partner_lastname}</span>
            </div>
            <div class="col">
              <input type="text" name="p_family_name_c"/>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <button type="button" class="btn btn-primary" onclick="MaintainChildren.showWindow('details')">{details}</button>
            </div>
            <div class="col">
              <button type="button" class="btn btn-primary" onclick="MaintainChildren.showWindow('sponsorship')">{sponsorship}</button>
            </div>
            <div class="col">
              <button type="button" class="btn btn-primary" onclick="MaintainChildren.showWindow('dates_reminder')">{dates_reminder}</button>
            </div>
            <div class="col">
              <button type="button" class="btn btn-primary" onclick="MaintainChildren.showWindow('family_situations')">{family_situations}</button>
            </div>
            <div class="col">
              <button type="button" class="btn btn-primary" onclick="MaintainChildren.showWindow('school_situations')">{school_situations}</button>
            </div>
          </div>

          <div class="window">

            <!-- details is shown by default, can be changed by a call to MaintainChildren.showWindow(name) -->
            <div window="details">details</div>
            <div window="sponsorship" style="display: none;">sponsorship</div>
            <div window="dates_reminder" style="display: none;">dates_reminder</div>
            <div window="family_situations" style="display: none;">family_situations</div>
            <div window="school_situations" style="display: none;">school_situations</div>

          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="save_edit_batch(this)">{forms.save}</button>
        <button class="btn btn-light" onclick="$(this).closest('.modal').modal('hide')">{forms.close}</button>
      </div>
    </div>
  </div>
</div>

<script src="/src/lib/utils.js" charset="utf-8"></script>
<script src="/src/lib/tpl.js" charset="utf-8"></script>
