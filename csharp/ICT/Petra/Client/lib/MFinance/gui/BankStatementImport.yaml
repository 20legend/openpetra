RootNode:
    BaseYaml: ../../../CommonForms/PetraForm.yaml
    FormTitle: Import Bank Statements
    Namespace: Ict.Petra.Client.MFinance.Gui
    FormType: browse
    Template: window
    WindowWidth: 754
    WindowHeight: 623
    Actions:
        actImportNewStatement:
            Label: &Import new statement
            ActionClick: ImportNewStatement
        actAddGiftDetail:
            Label: &Add
            ActionClick: AddGiftDetail
    Controls:
        pnlContent:
            Dock: Fill
            Controls: [tabTransactions]
            # add to Controls: pnlStatementInfo
        pnlStatementInfo:
            # Controls: [txtStartBalance, txtEndBalance, txtSumDebit, txtSumCredit, txtNumberMatchedTransactions]
        tabTransactions:
            # todo: Accounts Payable tab?
            Controls: [tpgAll, tpgUnmatched, tpgGifts, tpgGL]
            Dock: Fill
        tpgAll:
            Dock: Fill
            Controls: [sptTransactionDetails]
        sptTransactionDetails:
            Panel1: grdAllTransactions
            Panel2: pnlDetails
            SplitterDistance: 50
            SplitterOrientation: horizontal
            Dock: Fill
        grdAllTransactions:
            Dock: Fill
            ActionFocusRow: AllTransactionsFocusedRowChanged
        pnlDetails:
            Dock: Fill
            Visible: false
            Controls: [rgrTransactionCategory, pnlHostCategorySpecificEdit]
        rgrTransactionCategory:
            OptionalValues: [Unmatched, Gift, GL]
            ControlsOrientation: vertical
            NoLabel: true
            OnChange: NewTransactionCategory
            Dock: Left
        pnlHostCategorySpecificEdit:
            Controls: [pnlGiftEdit]
            #pnlGLEdit
            Dock: Fill
        pnlGiftEdit:
            Dock: Fill
            Visible: true
            Controls: [txtDonorKey, pnlDetailGrid, pnlEditGiftDetail]
        txtDonorKey: {Label=Donor, Type=PartnerKey, Dock=Top}
        pnlDetailGrid:
            Dock: Fill
            Controls: [grdGiftDetails, pnlDetailButtons]
        pnlDetailButtons:
            Dock: Right
            Controls: [btnAddGiftDetail, btnRemoveGiftDetail]
        grdGiftDetails:
            Dock: Fill
            ActionFocusRow: GiftDetailsFocusedRowChanged
        pnlEditGiftDetail: 
            Dock:Bottom
            Controls: [cmbMotivationDetail, cmbGiftAccount, cmbGiftCostCentre]
        btnAddGiftDetail:
        btnRemoveGiftDetail:
        cmbMotivationDetail: {Label=Motivation Detail, List=UserDefinedList, OnChange=MotivationDetailChanged}
        cmbGiftAccount: {Label=Account, List=UserDefinedList, ReadOnly=true}
        cmbGiftCostCentre: {Label=Cost Centre, List=UserDefinedList}
        pnlGLEdit:
            Dock: Fill
            Visible: false
            #Controls: [cmbGLAccountCode, cmbGLCostCentre]
        tpgUnmatched:
#            Controls:
#                Row0: [grdUnmatchedTransactions]
#                Row1: [rgrMoveUnmatchedTransaction]
        tpgGifts:
        tpgGL:
    Menu:
        mniFile:
            mniImportNewStatement:
    Toolbar:
        tbbImportNewStatement:
        tbbSeparator:
        tbcSelectStatement:
